{
  "expr": "\\[(\\[?)(embed|wp_caption|caption|gallery|playlist|audio|video|code_snippet|democracy|democracy_archives|download)(?![\\w-])([^\\]\\/]*(?:\\/(?!\\])[^\\]\\/]*?)*?)(?:(\\/)]|\\](?:([^\\[]*+(?:\\[(?!\\/\\2\\])[^\\[]*+)*+)\\[\\/\\2\\])?)(\\]?)",
  "yes": [
    "[caption]Some text[/caption]",
    "[embed src='video.mp4']",
    "[gallery ids='123,456,789']",
    "[audio autoplay='true']",
    "[video width='640' height='480' src='movie.mp4'][/video]",
    "[code_snippet]console.log('Hello, world!');[/code_snippet]",
    "[download url='file.zip']Download[/download]",
    "[wp_caption id='123']Caption text[/wp_caption]",
    "[democracy]Poll data[/democracy]",
    "[democracy_archives]Archive data[/democracy_archives]",
    "[caption align='alignnone' width='500']Image caption[/caption]",
    "[gallery link='file']",
    "[playlist type='audio' ids='34,56,78']",
    "[audio loop='true']",
    "[video controls='true'][/video]",
    "[code_snippet language='python']print('Hello!')[/code_snippet]",
    "[download]Link[/download]",
    "[wp_caption]Simple caption[/wp_caption]",
    "[caption id='attachment_1234' align='aligncenter' width='600']Image description[/caption]",
    "[embed]Embedded content[/embed]",
    "[playlist]Playlist items[/playlist]",
    "[download]Download link[/download]",
    "[wp_caption]Text[/wp_caption]",
    "[democracy]Vote here[/democracy]",
    "[video]Video content[/video]",
    "[audio]Audio content[/audio]",
    "[wp_caption id='attachment_789']Another caption[/wp_caption]",
    "[embed]Another embed[/embed]",
    "[gallery]Gallery items[/gallery]",
    "[playlist]Audio playlist[/playlist]",
    "[code_snippet]Snippet code[/code_snippet]",
    "[download]Download now[/download]",
    "[democracy_archives]Old polls[/democracy_archives]",
    "[caption width='300']Small caption[/caption]",
    "[embed src='link.mp4']",
    "[audio autoplay='false']",
    "[video height='720' src='movie.avi'][/video]",
    "[code_snippet]JavaScript code[/code_snippet]",
    "[download url='file.exe']Download here[/download]",
    "[wp_caption id='123']Short caption[/wp_caption]",
    "[democracy]Poll[/democracy]",
    "[democracy_archives]Archives[/democracy_archives]",
    "[caption align='alignnone']No alignment[/caption]",
    "[gallery link='none']",
    "[playlist type='video' ids='12,34,56']",
    "[audio loop='false']",
    "[video controls='false'][/video]",
    "[code_snippet language='javascript']alert('Hi!')[/code_snippet]"
  ],
  "no": [
    "",
    "random text",
    "[caption Some text[/caption]",
    "embed src='video.mp4'",
    "[gallery ids='123,456,789'",
    "[audio autoplay='true']missing closing bracket",
    "[video width=640 height=480 src='movie.mp4'][/video]",
    "[code_snippetconsole.log('Hello, world!');[/code_snippet]",
    "[download url='file.zip']Download[/download",
    "wp_caption id='123']Caption text[/wp_caption]",
    "[democracy Poll data[/democracy]",
    "[democracy_archives Archive data[/democracy_archives]",
    "[caption align='alignnone' width='500']Image caption",
    "gallery link='file']",
    "[playlist type='audio' ids='34,56,78'",
    "[audio loop='true' missing closing bracket]",
    "[video controls='true'[/video]",
    "[code_snippet language='python']print('Hello!')/code_snippet]",
    "[download]Link/download]",
    "[wp_caption]Simple caption[wp_caption]",
    "[caption id='attachment_1234' align='aligncenter' width='600']Image description",
    "embed]Embedded content[/embed]",
    "[playlist]Playlist items[playlist]",
    "[download]Download link[download]",
    "[wp_caption]Text[wp_caption]",
    "[democracy Vote here[/democracy]",
    "[video]Video content/video]",
    "[audio]Audio content/audio]",
    "[wp_caption id='attachment_789']Another caption",
    "embed]Another embed[/embed]",
    "[gallery]Gallery items[gallery]",
    "[playlist]Audio playlist[playlist]",
    "[code_snippet]Snippet code[code_snippet]",
    "[download]Download now[download]",
    "[democracy_archives]Old polls",
    "[caption width='300']Small caption",
    "embed src='link.mp4']",
    "[audio autoplay='false'",
    "[video height=720 src='movie.avi'][/video]",
    "[code_snippet]JavaScript code",
    "[download url='file.exe']Download here",
    "[wp_caption id='123']Short caption",
    "democracy]Poll[/democracy]",
    "[democracy_archives]Archives",
    "[caption align='alignnone']No alignment",
    "gallery link='none']",
    "[playlist type='video' ids='12,34,56'",
    "[audio loop='false']",
    "[video controls='false'/video]",
    "[code_snippet language='javascript']alert('Hi!'"
  ]
}